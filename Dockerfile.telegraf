FROM telegraf:1.32

# Install Python dependencies for streaming-ping-orchestrator
# hadolint ignore=DL3008
RUN apt-get update && \
    apt-get install -y --no-install-recommends python3-pip && \
    pip3 install --no-cache-dir --break-system-packages influxdb-client==1.40.0 && \
    apt-get purge -y --auto-remove python3-pip && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*
